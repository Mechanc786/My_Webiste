<!DOCTYPE html>
<html>
<head>
  <title>Subscribe</title>
</head>
<body>
  <h2>Subscribe to Our Newsletter</h2>

  <form id="subscribe-form">
    <input type="text" name="name" placeholder="Your Name" required />
    <input type="email" name="email" placeholder="Your Email" required />
    <button type="submit">Subscribe</button>
  </form>

  <p id="response-msg" style="color: green;"></p>

  <script>
    const form = document.getElementById('subscribe-form');
    const msg = document.getElementById('response-msg');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const formData = new FormData(form);
      const data = {};

      formData.forEach((value, key) => {
        data[key] = value;
      });

      fetch('https://sheetdb.io/api/v1/9ghcdx2pecwl8', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ data: data })
      })
      .then(response => {
        if (response.ok) {
          msg.innerHTML = "✅ Successfully subscribed!";
          form.reset();
        } else {
          msg.innerHTML = "❌ Submission failed.";
        }
      })
      .catch(error => {
        msg.innerHTML = "❌ Something went wrong.";
        console.error('Error:', error);
      });
    });
  </script>
</body>
</html>
